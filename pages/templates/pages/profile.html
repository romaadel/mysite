{% extends 'base.html' %}

{% block content %}
<div class="container mt-4">

  <div class="card shadow-sm border-0 mb-4" style="border-radius: 16px; background: linear-gradient(135deg, var(--navbar-bg), #b3d6d8);">
    <div class="card-body d-flex flex-column flex-md-row align-items-md-center justify-content-between">
      <div>
        <h2 class="fw-bold mb-1" style="color: var(--text);">
          Welcome, {{ request.user.username }} ðŸ‘‹
        </h2>
        <p class="mb-0" style="color: var(--text); opacity: 0.8;">
          Email: {{ request.user.email }}
        </p>
      </div>
      <a href="{% url 'add_product' %}" 
         class="btn mt-3 mt-md-0 px-4 py-2 fw-semibold"
         style="border-radius: 8px; background-color: var(--btn-primary-bg); color: #fff; transition: 0.3s;">
        âž• Add New Product
      </a>
    </div>
  </div>


  <h4 class="fw-bold mb-3" style="color: var(--text);">Your Products</h4>


  <div class="row g-4">
    {% for product in user_products %}
      <div class="col-sm-6 col-md-4">
        <div class="card border-0 shadow-sm h-100"
             style="border-radius: 16px; background-color: var(--card-bg); overflow: hidden; transition: transform 0.3s ease;">
          <div class="ratio ratio-4x3 overflow-hidden">
            <img src="{{ product.image.url }}" 
                 class="card-img-top"
                 alt="{{ product.name }}" 
                 style="object-fit: cover; transition: transform 0.3s ease;">
          </div>
          <div class="card-body">
            <h5 class="card-title fw-bold" style="color: var(--text);">
              {{ product.name }}
            </h5>
            <p class="card-text small" style="color: var(--text); opacity: 0.85;">
              {{ product.description|truncatewords:15 }}
            </p>
          </div>
          <div class="card-footer bg-transparent border-0 d-flex justify-content-between gap-2 flex-wrap">
            <a href="{% url 'product_detail' product.id %}" 
               class="btn btn-sm px-3 fw-semibold"
               style="background-color: var(--btn-primary-bg); color: #fff; border-radius: 8px; transition: 0.3s;">
               View
            </a>
            <a href="{% url 'edit_product' product.id %}" 
               class="btn btn-sm px-3 fw-semibold"
               style="background-color: var(--price-old); color: #fff; border-radius: 8px; transition: 0.3s;">
               Edit
            </a>
            <a href="{% url 'delete_product' product.id %}" 
               class="btn btn-sm px-3 fw-semibold"
               style="background-color: #dc3545; color: #fff; border-radius: 8px; transition: 0.3s;">
               Delete
            </a>
          </div>
        </div>
      </div>
    {% empty %}
      <div class="text-center py-5">
        <p class="mb-3" style="color: var(--text); opacity: 0.85;">
          You havenâ€™t added any products yet.
        </p>
        <a href="{% url 'add_product' %}" 
           class="btn px-4 py-2 fw-semibold"
           style="background-color: var(--btn-primary-bg); color: #fff; border-radius: 8px; transition: 0.3s;">
           Add Your First Product
        </a>
      </div>
    {% endfor %}
  </div>
</div>


<style>
  .card:hover {
    transform: translateY(-5px);
  }
  .card img:hover {
    transform: scale(1.05);
  }
  a.btn:hover {
    filter: brightness(1.1);
    transform: translateY(-2px);
  }
</style>
{% endblock %}

